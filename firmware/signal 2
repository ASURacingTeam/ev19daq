SIGNAL void ADC1_IN0_Square (void)  {
  float volts;        // peak-to-peak volatage
  float frequency;    // output frequency in Hz
  float offset;       // volatge offset
  float duration;     // duration in Seconds

  volts     = 0.5;
  offset    = 1.6;
  frequency = 200;
  duration  = 0.5;

  printf ("Square Wave Signal on AD Channel 0.\n");

  while (duration > 0.0)  {
    ADC1_IN0 = volts + offset;
    swatch (0.5 / frequency);
    ADC1_IN0 = offset;
    swatch (0.5 / frequency);
    duration -= 1.0 / frequency;
  }
}

DEFINE BUTTON "AIN0 Sqr","ADC1_IN0_Square()"